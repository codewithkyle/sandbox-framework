(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{3:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var Module_1=__webpack_require__(4),Application_1=__webpack_require__(0),Env_1=__webpack_require__(1),convert=__webpack_require__(9),ColorPalletGenerator=function(_super){function ColorPalletGenerator(view,uuid){var _this=_super.call(this,view,uuid)||this;return _this.closeNewColorModal=function(e){e.preventDefault(),e.stopImmediatePropagation(),_this._newColorModal.classList.remove("is-open"),_this._newColorForm.reset(),window.removeEventListener("keyup",_this.handleKey)},_this.addNewColor=function(){_this._indexBeingEdited=null;var resetButton=_this._newColorForm.querySelector('button[type="reset"]'),closeButton=_this._newColorForm.querySelector('button[type="close"]'),submitButton=_this._newColorForm.querySelector('button[type="submit"]');resetButton.style.display="inline-block",closeButton.style.display="none",submitButton.innerHTML="Add Color",_this._newColorModal.classList.add("is-open"),window.addEventListener("keyup",_this.handleKey)},_this.handleNewColorSubmit=function(e){if(e.preventDefault(),e.stopImmediatePropagation(),null===_this._indexBeingEdited){var hexInput=_this._newColorForm.querySelector('.js-new-color-input[data-type="hex"]'),rgbInput=_this._newColorForm.querySelector('.js-new-color-input[data-type="rgb"]'),hslInput=_this._newColorForm.querySelector('.js-new-color-input[data-type="hsl"]');(colorBlock=document.createElement("color-block")).dataset.color=hexInput.value.replace("#",""),(colorPreview=document.createElement("custom-color-preview")).style.backgroundColor=hexInput.value,colorPreview.classList.add("u-ratio-1/1"),colorBlock.append(colorPreview);var blockActions=document.createElement("color-block-actions"),deleteButton=document.createElement("button");deleteButton.innerHTML='<svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="trash-alt" class="svg-inline--fa fa-trash-alt fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M296 432h16a8 8 0 0 0 8-8V152a8 8 0 0 0-8-8h-16a8 8 0 0 0-8 8v272a8 8 0 0 0 8 8zm-160 0h16a8 8 0 0 0 8-8V152a8 8 0 0 0-8-8h-16a8 8 0 0 0-8 8v272a8 8 0 0 0 8 8zM440 64H336l-33.6-44.8A48 48 0 0 0 264 0h-80a48 48 0 0 0-38.4 19.2L112 64H8a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h24v368a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V96h24a8 8 0 0 0 8-8V72a8 8 0 0 0-8-8zM171.2 38.4A16.1 16.1 0 0 1 184 32h80a16.1 16.1 0 0 1 12.8 6.4L296 64H152zM384 464a16 16 0 0 1-16 16H80a16 16 0 0 1-16-16V96h320zm-168-32h16a8 8 0 0 0 8-8V152a8 8 0 0 0-8-8h-16a8 8 0 0 0-8 8v272a8 8 0 0 0 8 8z"></path></svg>',deleteButton.classList.add("js-color-delete-button"),blockActions.appendChild(deleteButton);var editButton=document.createElement("button");editButton.innerHTML='<svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="pencil" class="svg-inline--fa fa-pencil fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M493.255 56.236l-37.49-37.49c-24.993-24.993-65.515-24.994-90.51 0L12.838 371.162.151 485.346c-1.698 15.286 11.22 28.203 26.504 26.504l114.184-12.687 352.417-352.417c24.992-24.994 24.992-65.517-.001-90.51zm-95.196 140.45L174 420.745V386h-48v-48H91.255l224.059-224.059 82.745 82.745zM126.147 468.598l-58.995 6.555-30.305-30.305 6.555-58.995L63.255 366H98v48h48v34.745l-19.853 19.853zm344.48-344.48l-49.941 49.941-82.745-82.745 49.941-49.941c12.505-12.505 32.748-12.507 45.255 0l37.49 37.49c12.506 12.506 12.507 32.747 0 45.255z"></path></svg>',editButton.classList.add("js-color-edit-button"),blockActions.appendChild(editButton),colorBlock.appendChild(blockActions),colorBlock.dataset.hex=hexInput.value,colorBlock.dataset.rgb=rgbInput.value,colorBlock.dataset.hsl=hslInput.value,_this._projectColorsContainer.appendChild(colorBlock);var eButton=colorBlock.querySelector(".js-color-edit-button"),dButton=colorBlock.querySelector(".js-color-delete-button");eButton.addEventListener("click",_this.editColor),dButton.addEventListener("click",_this.deleteColor),_this._newColorModal.classList.remove("is-open"),_this._newColorForm.reset(),window.removeEventListener("keyup",_this.handleKey),_this.updateColorIndexes(),_this.generateColors(colorBlock.dataset.hex)}else{var colorBlock,colorPreview;hexInput=_this._newColorForm.querySelector('.js-new-color-input[data-type="hex"]'),rgbInput=_this._newColorForm.querySelector('.js-new-color-input[data-type="rgb"]'),hslInput=_this._newColorForm.querySelector('.js-new-color-input[data-type="hsl"]');(colorPreview=(colorBlock=_this._projectColorsContainer.querySelector('color-block[data-index="'+_this._indexBeingEdited+'"]')).querySelector("custom-color-preview")).style.backgroundColor=hexInput.value,colorBlock.dataset.hex=hexInput.value,colorBlock.dataset.rgb=rgbInput.value,colorBlock.dataset.hsl=hslInput.value,_this._newColorModal.classList.remove("is-open"),_this._newColorForm.reset(),window.removeEventListener("keyup",_this.handleKey),_this.generateColors(colorBlock.dataset.hex)}},_this.handleKey=function(e){e instanceof KeyboardEvent&&"Escape"===e.key&&(_this._newColorModal.classList.remove("is-open"),_this._newColorForm.reset(),window.removeEventListener("keyup",_this.handleKey))},_this.handleInputFocus=function(e){var target=e.currentTarget,inputType=target.dataset.type,value=target.value;switch(inputType){case"hex":value=value.replace("#",""),_this._newColorHex=value;break;case"rgb":(value=(value=(value=(value=value.replace("rgb","")).replace("(","")).replace(")","")).replace(/\s/g,"")).split(",").map(function(number){_this._newColorRgb.push(parseInt(number))});break;case"hsl":(value=(value=(value=(value=(value=value.replace("hsl","")).replace("(","")).replace(")","")).replace(/\s/g,"")).replace(/%/g,"")).split(",").map(function(number){_this._newColorHsl.push(parseInt(number))})}target.value=value},_this.handleInputBlur=function(e){var target=e.currentTarget,inputType=target.dataset.type,value=target.value;switch(_this._newColorHex=null,_this._newColorRgb=[],_this._newColorHsl=[],inputType){case"hex":if((value=value.replace("#","")).length<6)for(var i=value.length;i<6;i++)value+="f";else value.length>6&&(value=value.substring(0,6));_this._newColorHex=value;break;case"rgb":_this.validateRGBValues(value);break;case"hsl":_this.validateHSLValues(value)}_this.wrangeValues(inputType)},_this.preventEnterSubmit=function(e){e.preventDefault(),e.stopImmediatePropagation()},_this.handleFormReset=function(){_this._newColorPreview.value="#3b83f9"},_this.deleteColor=function(e){var target=e.currentTarget,parentId=parseInt(target.parentElement.parentElement.dataset.index);_this._colorBlocks[parentId].remove(),_this._colorBlocks.splice(parentId,1),_this.updateColorIndexes()},_this.editColor=function(e){var target=e.currentTarget,parentEl=target.parentElement.parentElement,parentId=parseInt(target.parentElement.parentElement.dataset.index),hexValue=parentEl.dataset.hex,rgbValue=parentEl.dataset.rgb,hslValue=parentEl.dataset.hsl;_this._indexBeingEdited=parentId,_this._newColorPreview.value=hexValue;var resetButton=_this._newColorForm.querySelector('button[type="reset"]'),closeButton=_this._newColorForm.querySelector('button[type="close"]'),submitButton=_this._newColorForm.querySelector('button[type="submit"]');resetButton.style.display="none",closeButton.style.display="inline-block",submitButton.innerHTML="Update Color",_this._newColorInputs.forEach(function(input){"hex"===input.dataset.type?input.value=hexValue:"rgb"===input.dataset.type?input.value=rgbValue:"hsl"===input.dataset.type&&(input.value=hslValue)}),_this._newColorModal.classList.add("is-open"),window.addEventListener("keyup",_this.handleKey)},_this.loadColor=function(e){var target=e.currentTarget;_this.generateColors(target.dataset.color)},_this.handleColorInput=function(e){_this._newColorHex=null,_this._newColorRgb=[],_this._newColorHsl=[],_this._newColorHex=_this._newColorPreview.value,_this.wrangeValues("preview")},Env_1.Env.isDebug&&console.log("%c[Module Manager] %ccreated new %c"+ColorPalletGenerator.index+" %cmodule with an ID of %c"+uuid,"color:#4882fd","color:#eee","color:#48eefd","color:#eee","color:#48eefd"),_this._newColorButton=_this.view.querySelector("new-color button"),_this._newColorModal=_this.view.querySelector("new-color-modal"),_this._newColorModalBackdrop=_this.view.querySelector("new-color-modal-backdrop"),_this._newColorForm=_this.view.querySelector(".js-new-color-form"),_this._newColorInputs=Array.from(_this.view.querySelectorAll(".js-new-color-input")),_this._newColorCloseButton=_this._newColorForm.querySelector('button[type="close"]'),_this._newColorHex="",_this._newColorRgb=[],_this._newColorHsl=[],_this._newColorPreview=_this.view.querySelector(".js-new-color-preview"),_this._deleteButtons=Array.from(_this.view.querySelectorAll(".js-color-delete-button")),_this._editButtons=Array.from(_this.view.querySelectorAll(".js-color-edit-button")),_this._colorBlocks=Array.from(_this.view.querySelectorAll("color-block")),_this._projectColorsContainer=_this.view.querySelector("project-colors"),_this._indexBeingEdited=null,_this._colorBreakdownContainer=_this.view.querySelector("color-breakdown"),_this}return __extends(ColorPalletGenerator,_super),ColorPalletGenerator.prototype.theGauntlet=function(baseHex){for(var baseHsl=convert.hex.hsl(baseHex),colorArray=[{h:baseHsl[0],s:baseHsl[1],l:95},{h:baseHsl[0],s:baseHsl[1],l:84},{h:baseHsl[0],s:baseHsl[1],l:73},{h:baseHsl[0],s:baseHsl[1],l:62},{h:baseHsl[0],s:baseHsl[1],l:54},{h:baseHsl[0],s:baseHsl[1],l:46},{h:baseHsl[0],s:baseHsl[1],l:43},{h:baseHsl[0],s:baseHsl[1],l:38},{h:baseHsl[0],s:baseHsl[1],l:34},{h:baseHsl[0],s:baseHsl[1],l:26}],indexToReplace=null,diffToBeat=100,i=0;i<colorArray.length;i++){var diff=Math.abs(baseHsl[2]-colorArray[i].l);diff<diffToBeat&&(diffToBeat=diff,indexToReplace=i)}return colorArray[indexToReplace]={h:baseHsl[0],s:baseHsl[1],l:baseHsl[2]},colorArray},ColorPalletGenerator.prototype.generateColors=function(baseHex){var _this=this,colors=this.theGauntlet(baseHex),baseHsl=convert.hex.hsl(baseHex);baseHsl={h:baseHsl[0],s:baseHsl[1],l:baseHsl[2]},this._colorBreakdownContainer.innerHTML="";var i=1;colors.forEach(function(color){var newColorGroup=document.createElement("color-group"),colorPreview=document.createElement("color-preview");colorPreview.classList.add("u-ratio-1/1"),colorPreview.style.backgroundColor="#"+convert.hsl.hex(color.h,color.s,color.l),newColorGroup.appendChild(colorPreview),color.l===baseHsl.l&&colorPreview.classList.add("is-primary");var detailsWrapper=document.createElement("color-details");detailsWrapper.innerHTML+='<span class="js-hex">#'+convert.hsl.hex(color.h,color.s,color.l)+"</span>",detailsWrapper.innerHTML+='<span class="js-rgb">rgb('+convert.hsl.rgb(color.h,color.s,color.l)+")</span>",detailsWrapper.innerHTML+='<span class="js-hsl">hsl('+color.h+", "+color.s+"%, "+color.l+"%)</span>",newColorGroup.appendChild(detailsWrapper);var colorVar=document.createElement("color-variable");colorVar.innerHTML="<code>$color-"+i+": #"+convert.hsl.hex(color.h,color.s,color.l)+";</code>",newColorGroup.appendChild(colorVar),_this._colorBreakdownContainer.appendChild(newColorGroup),i++})},ColorPalletGenerator.prototype.updateColorIndexes=function(){this._colorBlocks=Array.from(this.view.querySelectorAll("color-block"));for(var i=0;i<this._colorBlocks.length;i++)this._colorBlocks[i].dataset.index=i.toString();this.removeEventListeners()},ColorPalletGenerator.prototype.removeEventListeners=function(){for(var i=0;i<this._colorBlocks.length;i++)this._colorBlocks[i].removeEventListener("click",this.loadColor);this.addEventListeners()},ColorPalletGenerator.prototype.addEventListeners=function(){for(var i=0;i<this._colorBlocks.length;i++)this._colorBlocks[i].addEventListener("click",this.loadColor)},ColorPalletGenerator.prototype.validateHSLValues=function(value){var _this=this;(value=(value=(value=(value=(value=value.replace("hsl","")).replace("(","")).replace(")","")).replace(/\s/g,"")).replace(/%/g,""),this._newColorHsl=[],""===value)?this._newColorHsl=[0,100,100]:value.split(",").map(function(number){_this._newColorHsl.push(parseInt(number))});1===this._newColorHsl.length?(this._newColorHsl.push(100),this._newColorHsl.push(100)):2===this._newColorHsl.length&&this._newColorHsl.push(100);for(var i=0;i<this._newColorHsl.length;i++)0===i?this._newColorHsl[i]<0?this._newColorHsl[i]=0:this._newColorHsl[i]>359&&(this._newColorHsl[i]=359):1!==i&&2!==i||(this._newColorHsl[i]<0?this._newColorHsl[i]=0:this._newColorHsl[i]>100&&(this._newColorHsl[i]=100))},ColorPalletGenerator.prototype.validateRGBValues=function(value){var _this=this;(value=(value=(value=(value=value.replace("rgb","")).replace("(","")).replace(")","")).replace(/\s/g,""),this._newColorRgb=[],""===value)?this._newColorRgb=[255,255,255]:value.split(",").map(function(number){_this._newColorRgb.push(parseInt(number))});if(this._newColorRgb.length<3)for(var i=this._newColorRgb.length;i<3;i++)this._newColorRgb.push(255);for(i=0;i<this._newColorRgb.length;i++)this._newColorRgb[i]<0?this._newColorRgb[i]=0:this._newColorRgb[i]>255&&(this._newColorRgb[i]=255)},ColorPalletGenerator.prototype.wrangeValues=function(type){var _this=this;"hex"===type?(this._newColorRgb=convert.hex.rgb(this._newColorHex),this._newColorHsl=convert.hex.hsl(this._newColorHex),this._newColorInputs.forEach(function(input){"hex"===input.dataset.type?input.value="#"+_this._newColorHex:"rgb"===input.dataset.type?input.value="rgb("+_this._newColorRgb[0]+", "+_this._newColorRgb[1]+", "+_this._newColorRgb[2]+")":"hsl"===input.dataset.type&&(input.value="hsl("+_this._newColorHsl[0]+", "+_this._newColorHsl[1]+"%, "+_this._newColorHsl[2]+"%)")}),this._newColorPreview.value="#"+this._newColorHex):"rgb"===type?(this._newColorHsl=convert.rgb.hsl(this._newColorRgb),this._newColorHex=convert.rgb.hex(this._newColorRgb),this._newColorInputs.forEach(function(input){"hex"===input.dataset.type?input.value="#"+_this._newColorHex:"rgb"===input.dataset.type?input.value="rgb("+_this._newColorRgb[0]+", "+_this._newColorRgb[1]+", "+_this._newColorRgb[2]+")":"hsl"===input.dataset.type&&(input.value="hsl("+_this._newColorHsl[0]+", "+_this._newColorHsl[1]+"%, "+_this._newColorHsl[2]+"%)")}),this._newColorPreview.value="#"+this._newColorHex):"hsl"===type?(this._newColorRgb=convert.hsl.rgb(this._newColorHsl),this._newColorHex=convert.hsl.hex(this._newColorHsl),this._newColorInputs.forEach(function(input){"hex"===input.dataset.type?input.value="#"+_this._newColorHex:"rgb"===input.dataset.type?input.value="rgb("+_this._newColorRgb[0]+", "+_this._newColorRgb[1]+", "+_this._newColorRgb[2]+")":"hsl"===input.dataset.type&&(input.value="hsl("+_this._newColorHsl[0]+", "+_this._newColorHsl[1]+"%, "+_this._newColorHsl[2]+"%)")}),this._newColorPreview.value="#"+this._newColorHex):"preview"===type&&(this._newColorRgb=convert.hex.rgb(this._newColorHex),this._newColorHsl=convert.hex.hsl(this._newColorHex),this._newColorInputs.forEach(function(input){"hex"===input.dataset.type?input.value=""+_this._newColorHex:"rgb"===input.dataset.type?input.value="rgb("+_this._newColorRgb[0]+", "+_this._newColorRgb[1]+", "+_this._newColorRgb[2]+")":"hsl"===input.dataset.type&&(input.value="hsl("+_this._newColorHsl[0]+", "+_this._newColorHsl[1]+"%, "+_this._newColorHsl[2]+"%)")}))},ColorPalletGenerator.prototype.afterMount=function(){var _this=this;this._newColorButton.addEventListener("click",this.addNewColor),this._newColorModalBackdrop.addEventListener("click",this.closeNewColorModal),this._newColorForm.addEventListener("submit",this.handleNewColorSubmit),this._newColorForm.addEventListener("keyup",this.preventEnterSubmit),this._newColorForm.addEventListener("reset",this.handleFormReset),this._newColorCloseButton.addEventListener("click",this.closeNewColorModal),this._newColorPreview.addEventListener("change",this.handleColorInput),this._newColorInputs.forEach(function(input){input.addEventListener("focus",_this.handleInputFocus),input.addEventListener("blur",_this.handleInputBlur)}),this._deleteButtons.forEach(function(button){button.addEventListener("click",_this.deleteColor)}),this._editButtons.forEach(function(button){button.addEventListener("click",_this.editColor)})},ColorPalletGenerator.prototype.beforeDestroy=function(){},ColorPalletGenerator.index="ColorPalletGenerator",ColorPalletGenerator}(Module_1.Module);exports.ColorPalletGenerator=ColorPalletGenerator,modules[ColorPalletGenerator.index]=ColorPalletGenerator,Env_1.Env.isDebug&&console.log("%c[Module Manager] %cmodule %c"+ColorPalletGenerator.index+" %chas finished loading","color:#4882fd","color:#eee","color:#48eefd","color:#eee"),Application_1.Application.mountModules()}},[[3,1,3,2,8,9,0]]]);